var _0x479e=['display','audio','addEventListener','178053yxbwcd','onreadystatechange','552dMJtMQ','className','currentTime','responseText','GET','utils/total_recordings.php','duration','1075467OvrARm','opacity','--buffered-width','end','menu-nav','innerHTML','\x20responsive','value','sync-recordings','total-calls-plivo-cloud','setAttribute','shortest-call','querySelector','1216TlOHqh','utils/utils_recordings.php?data_required=most_calling_number','1637kantay','1gplrLw','input','play','max','seek-slider','open','play-icon','1342925LfyYRm','DOMContentLoaded','longuest-call','send','paused','setProperty','loadedmetadata','change','data','9CcpGmz','5tjEZLq','block','getElementById','utils/utils_recordings.php?data_required=shortest_call','onmessage','floor','--volume-before-width','readyState','textContent','status','pause','audio-player-container','load','audio-player','src','most-dialed-number','utils/size_recordings.php','110907cnCAau','1137766tNoDck','--seek-before-width','style','buffered'];var _0x19adf1=_0x583b;(function(_0x15741f,_0x2a9952){var _0x26f625=_0x583b;while(!![]){try{var _0x2dcfb5=parseInt(_0x26f625(0x93))+parseInt(_0x26f625(0xaa))+-parseInt(_0x26f625(0xa3))*parseInt(_0x26f625(0x8a))+-parseInt(_0x26f625(0x83))+-parseInt(_0x26f625(0xa2))*parseInt(_0x26f625(0xb4))+parseInt(_0x26f625(0xb3))*-parseInt(_0x26f625(0x82))+-parseInt(_0x26f625(0x8c))*-parseInt(_0x26f625(0xa0));if(_0x2dcfb5===_0x2a9952)break;else _0x15741f['push'](_0x15741f['shift']());}catch(_0x1a1d98){_0x15741f['push'](_0x15741f['shift']());}}}(_0x479e,0xbb5e1));var w,total_calls_global=0x0;function _0x583b(_0x2840a0,_0x213166){_0x2840a0=_0x2840a0-0x82;var _0x479e61=_0x479e[_0x2840a0];return _0x479e61;}function toggle_menu(){var _0x213d1e=_0x583b,_0xec9f41=document['getElementById']('toggle-menu');_0x213d1e(0x97)===_0xec9f41[_0x213d1e(0x8d)]?_0xec9f41[_0x213d1e(0x8d)]+=_0x213d1e(0x99):_0xec9f41['className']=_0x213d1e(0x97);}function fetch_dashboard_data(_0x18e561,_0x52d1ca){var _0x588097=_0x583b,_0x1ce75c=new XMLHttpRequest();_0x1ce75c[_0x588097(0x8b)]=function(){var _0x213d1c=_0x588097;0x4==this[_0x213d1c(0xbb)]&&0xc8==this[_0x213d1c(0xbd)]&&(document[_0x213d1c(0xb6)](_0x52d1ca)['innerHTML']=this[_0x213d1c(0x8f)]);},_0x1ce75c[_0x588097(0xa8)](_0x588097(0x90),_0x18e561,!0x0),_0x1ce75c[_0x588097(0xad)]();}function sync_worker(){var _0x3f639b=_0x583b;'undefined'!=typeof Worker?(w=void 0x0===w?new Worker('static/js/sync-worker.min.js'):w)[_0x3f639b(0xb8)]=function(_0x222e02){var _0x5651aa=_0x3f639b,_0x325516=document[_0x5651aa(0xb6)](_0x5651aa(0x9b));_0x325516['innerHTML']=_0x222e02[_0x5651aa(0xb2)],_0x325516[_0x5651aa(0x85)][_0x5651aa(0x94)]=0x1,setTimeout(function(){var _0x1b6f4f=_0x5651aa;_0x325516[_0x1b6f4f(0x85)]['opacity']=0x0;},0x7d0);}:document[_0x3f639b(0xb6)]('sync-recordings')[_0x3f639b(0x98)]='Sorry!\x20No\x20Web\x20Worker\x20support.';}document['addEventListener'](_0x19adf1(0xab),_0x146737=>{var _0x23ee8d=_0x19adf1;fetch_dashboard_data(_0x23ee8d(0x91),_0x23ee8d(0x9c)),fetch_dashboard_data(_0x23ee8d(0xc4),'total-size-recordings'),fetch_dashboard_data('utils/utils_recordings.php?data_required=most_dialed_number',_0x23ee8d(0xc3)),fetch_dashboard_data(_0x23ee8d(0xa1),'most-calling-number'),fetch_dashboard_data(_0x23ee8d(0xb7),_0x23ee8d(0x9e)),fetch_dashboard_data('utils/utils_recordings.php?data_required=longuest_call',_0x23ee8d(0xac)),sync_worker();});const audio_player_container=document[_0x19adf1(0xb6)](_0x19adf1(0xbf)),audio=document[_0x19adf1(0x9f)](_0x19adf1(0x88)),play_icon_container=document['getElementById'](_0x19adf1(0xa9)),seek_slider=document[_0x19adf1(0xb6)](_0x19adf1(0xa7)),duration_container=document[_0x19adf1(0xb6)](_0x19adf1(0x92)),current_time_container=document['getElementById']('current-time');let raf=null,playState='play';play_icon_container[_0x19adf1(0x89)]('click',()=>{var _0x2e6c37=_0x19adf1;'play'===playState?(audio[_0x2e6c37(0xbe)](),requestAnimationFrame(whilePlaying),playState=_0x2e6c37(0xbe),play_icon_container['className']=_0x2e6c37(0xa5)):(audio['play'](),cancelAnimationFrame(raf),playState=_0x2e6c37(0xa5),play_icon_container[_0x2e6c37(0x8d)]=_0x2e6c37(0xae));});const showRangeProgress=_0x3a89cc=>{var _0xf750b1=_0x19adf1;_0x3a89cc===seek_slider?audio_player_container[_0xf750b1(0x85)][_0xf750b1(0xaf)](_0xf750b1(0x84),_0x3a89cc['value']/_0x3a89cc[_0xf750b1(0xa6)]*0x64+'%'):audio_player_container[_0xf750b1(0x85)][_0xf750b1(0xaf)](_0xf750b1(0xba),_0x3a89cc[_0xf750b1(0x9a)]/_0x3a89cc[_0xf750b1(0xa6)]*0x64+'%');};seek_slider[_0x19adf1(0x89)](_0x19adf1(0xa4),_0x378a7f=>{showRangeProgress(_0x378a7f['target']);});const calculateTime=_0x206bc5=>{var _0x4325b1=_0x19adf1,_0x5e9dce=Math[_0x4325b1(0xb9)](_0x206bc5/0x3c),_0x206bc5=Math[_0x4325b1(0xb9)](_0x206bc5%0x3c);return _0x5e9dce+':'+(_0x206bc5<0xa?'0'+_0x206bc5:''+_0x206bc5);},displayDuration=()=>{var _0x38ad9e=_0x19adf1;duration_container[_0x38ad9e(0xbc)]=calculateTime(audio[_0x38ad9e(0x92)]);},setSliderMax=()=>{var _0x458541=_0x19adf1;seek_slider['max']=Math[_0x458541(0xb9)](audio[_0x458541(0x92)]);},displayBufferedAmount=()=>{var _0x2bbf19=_0x19adf1,_0x4de10f=Math[_0x2bbf19(0xb9)](audio['buffered'][_0x2bbf19(0x96)](audio[_0x2bbf19(0x86)]['length']-0x1));audio_player_container[_0x2bbf19(0x85)][_0x2bbf19(0xaf)](_0x2bbf19(0x95),_0x4de10f/seek_slider[_0x2bbf19(0xa6)]*0x64+'%');},whilePlaying=()=>{var _0x16304b=_0x19adf1;seek_slider['value']=Math[_0x16304b(0xb9)](audio[_0x16304b(0x8e)]),current_time_container['textContent']=calculateTime(seek_slider[_0x16304b(0x9a)]),audio_player_container['style'][_0x16304b(0xaf)](_0x16304b(0x84),seek_slider[_0x16304b(0x9a)]/seek_slider['max']*0x64+'%'),raf=requestAnimationFrame(whilePlaying);};function play_audio(_0x3110ee){var _0x50da9b=_0x19adf1,_0x402ee6=document['getElementById'](_0x50da9b(0xbf)),_0x328af2=document['getElementById'](_0x50da9b(0xc1));_0x402ee6[_0x50da9b(0x85)][_0x50da9b(0x87)]=_0x50da9b(0xb5),_0x328af2['pause'](),_0x328af2[_0x50da9b(0x9d)](_0x50da9b(0xc2),_0x3110ee),_0x328af2[_0x50da9b(0xc0)](),play_icon_container[_0x50da9b(0x8d)]=_0x50da9b(0xae),playState=_0x50da9b(0xa5),_0x328af2[_0x50da9b(0xa5)](),requestAnimationFrame(whilePlaying);}0x0<audio[_0x19adf1(0xbb)]?(displayDuration(),setSliderMax(),displayBufferedAmount()):audio[_0x19adf1(0x89)](_0x19adf1(0xb0),()=>{displayDuration(),setSliderMax(),displayBufferedAmount();}),audio[_0x19adf1(0x89)]('progress',displayBufferedAmount),seek_slider[_0x19adf1(0x89)](_0x19adf1(0xa4),()=>{var _0x324d8c=_0x19adf1;current_time_container[_0x324d8c(0xbc)]=calculateTime(seek_slider['value']),audio[_0x324d8c(0xae)]||cancelAnimationFrame(raf);}),seek_slider['addEventListener'](_0x19adf1(0xb1),()=>{var _0x40cd45=_0x19adf1;audio[_0x40cd45(0x8e)]=seek_slider[_0x40cd45(0x9a)],audio[_0x40cd45(0xae)]||requestAnimationFrame(whilePlaying);});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidyIsInRvdGFsX2NhbGxzX2dsb2JhbCIsInRvZ2dsZV9tZW51IiwidG9nZ2xlX2VsZW1lbnQiLCJkb2N1bWVudCIsImZldGNoX2Rhc2hib2FyZF9kYXRhIiwiZW5kcG9pbnQiLCJlbGVtZW50aWQiLCJ4aHR0cCIsIlhNTEh0dHBSZXF1ZXN0IiwidGhpcyIsInN5bmNfd29ya2VyIiwiV29ya2VyIiwiZXZlbnQiLCJwb3BfZWxlbWVudCIsInNldFRpbWVvdXQiLCJfMHgxNDY3MzciLCJhdWRpb19wbGF5ZXJfY29udGFpbmVyIiwiYXVkaW8iLCJwbGF5X2ljb25fY29udGFpbmVyIiwic2Vla19zbGlkZXIiLCJkdXJhdGlvbl9jb250YWluZXIiLCJjdXJyZW50X3RpbWVfY29udGFpbmVyIiwicmFmIiwicGxheVN0YXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2hpbGVQbGF5aW5nIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJzaG93UmFuZ2VQcm9ncmVzcyIsIl8weDNhODljYyIsInJhbmdlSW5wdXQiLCJfMHgzNzhhN2YiLCJlIiwiY2FsY3VsYXRlVGltZSIsIl8weDIwNmJjNSIsIm1pbnV0ZXMiLCJNYXRoIiwic2VjcyIsInNlY29uZHMiLCJkaXNwbGF5RHVyYXRpb24iLCJzZXRTbGlkZXJNYXgiLCJkaXNwbGF5QnVmZmVyZWRBbW91bnQiLCJidWZmZXJlZEFtb3VudCIsInBsYXlfYXVkaW8iLCJhdWRpb191cmwiLCJhdWRpb19wbGF5ZXIiXSwibWFwcGluZ3MiOiJ3aERBRUEsSUF3Q0lBLENBeENKLENBQUlDLGtCQUFBQSxDLEdBQUosQyxrSEFlQSxTQUFTQyxXQUFULEUsdUJBRVFDLFNBQUFBLENBQWlCQyxRQUFBQSxDLGdCQUFBQSxFLGFBQUFBLEMsZ0JBQ1ksR0FBN0JELFNBQUFBLEMsZUFBQUEsQ0FBNkIsQ0FDN0JBLFNBQUFBLEMsZUFBQUEsRyxlQUQ2QixDQUc3QkEsU0FBQUEsQyxXQUFBQSxFLGlCQUlS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LEdBQ0FTLG9CQUFBQSxDQUFxQkosR0FBckJJLEMsRUFIUlAsQ0FkdUIsQ0FxQnZCQSxXQUFBQSxDLGtCQUFBQSxFLGVBQUFBLENBQXVDLEkseUJBQ25DRixLQUFBQSxDLGVBQUFBLEVBQW9CRSxXQUFBQSxDLGVBQUFBLEMsQ0FDaEJGLEtBQUFBLEMsZUFBQUEsR0FDQU8scUJBQUFBLENBQXNCQyxZQUF0QkQsQyxFQUhSTCxDQXJCdUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGRpc3RyaWJ1dGVkIGZpbGUgZm9yIGNsaWVudCBqcyAqL1xyXG5cclxudmFyIHRvdGFsX2NhbGxzX2dsb2JhbCA9IDA7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoZXZlbnQpID0+IHtcclxuXHJcbiAgICBmZXRjaF9kYXNoYm9hcmRfZGF0YShcInV0aWxzL3RvdGFsX3JlY29yZGluZ3MucGhwXCIsIFwidG90YWwtY2FsbHMtcGxpdm8tY2xvdWRcIik7XHJcbiAgICBmZXRjaF9kYXNoYm9hcmRfZGF0YShcInV0aWxzL3NpemVfcmVjb3JkaW5ncy5waHBcIiwgXCJ0b3RhbC1zaXplLXJlY29yZGluZ3NcIik7XHJcbiAgICBmZXRjaF9kYXNoYm9hcmRfZGF0YShcInV0aWxzL3V0aWxzX3JlY29yZGluZ3MucGhwP2RhdGFfcmVxdWlyZWQ9bW9zdF9kaWFsZWRfbnVtYmVyXCIsIFwibW9zdC1kaWFsZWQtbnVtYmVyXCIpO1xyXG4gICAgZmV0Y2hfZGFzaGJvYXJkX2RhdGEoXCJ1dGlscy91dGlsc19yZWNvcmRpbmdzLnBocD9kYXRhX3JlcXVpcmVkPW1vc3RfY2FsbGluZ19udW1iZXJcIiwgXCJtb3N0LWNhbGxpbmctbnVtYmVyXCIpO1xyXG4gICAgZmV0Y2hfZGFzaGJvYXJkX2RhdGEoXCJ1dGlscy91dGlsc19yZWNvcmRpbmdzLnBocD9kYXRhX3JlcXVpcmVkPXNob3J0ZXN0X2NhbGxcIiwgXCJzaG9ydGVzdC1jYWxsXCIpO1xyXG4gICAgZmV0Y2hfZGFzaGJvYXJkX2RhdGEoXCJ1dGlscy91dGlsc19yZWNvcmRpbmdzLnBocD9kYXRhX3JlcXVpcmVkPWxvbmd1ZXN0X2NhbGxcIiwgXCJsb25ndWVzdC1jYWxsXCIpO1xyXG4gICAgc3luY193b3JrZXIoKTtcclxufSk7XHJcblxyXG4vLyByZXNwb25zaXZlIGhhbWJ1cmdlciBtZW51XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVfbWVudSgpIHtcclxuXHJcbiAgICB2YXIgdG9nZ2xlX2VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvZ2dsZS1tZW51XCIpO1xyXG4gICAgaWYgKHRvZ2dsZV9lbGVtZW50LmNsYXNzTmFtZSA9PT0gXCJtZW51LW5hdlwiKSB7XHJcbiAgICAgICAgdG9nZ2xlX2VsZW1lbnQuY2xhc3NOYW1lICs9IFwiIHJlc3BvbnNpdmVcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9nZ2xlX2VsZW1lbnQuY2xhc3NOYW1lID0gXCJtZW51LW5hdlwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmZXRjaF9kYXNoYm9hcmRfZGF0YShlbmRwb2ludCwgZWxlbWVudGlkKSB7XHJcblxyXG4gIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDApIHtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudGlkKS5pbm5lckhUTUwgPSB0aGlzLnJlc3BvbnNlVGV4dDtcclxuICAgIH1cclxuICB9O1xyXG4gIHhodHRwLm9wZW4oXCJHRVRcIiwgZW5kcG9pbnQsIHRydWUpO1xyXG4gIHhodHRwLnNlbmQoKTtcclxufVxyXG5cclxuLy8gd2ViIHdvcmtlclxyXG5cclxudmFyIHc7XHJcblxyXG5mdW5jdGlvbiBzeW5jX3dvcmtlcigpIHtcclxuXHJcbiAgaWYgKHR5cGVvZihXb3JrZXIpICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBpZiAodHlwZW9mKHcpID09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgdyA9IG5ldyBXb3JrZXIoXCJzdGF0aWMvanMvc3luYy13b3JrZXIubWluLmpzXCIpO1xyXG4gICAgfVxyXG4gICAgdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB2YXIgcG9wX2VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN5bmMtcmVjb3JkaW5nc1wiKTtcclxuICAgICAgcG9wX2VsZW1lbnQuaW5uZXJIVE1MID0gZXZlbnQuZGF0YTtcclxuICAgICAgcG9wX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDE7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7cG9wX2VsZW1lbnQuc3R5bGUub3BhY2l0eSA9IDB9LCAyMDAwKTtcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3luYy1yZWNvcmRpbmdzXCIpLmlubmVySFRNTCA9IFwiU29ycnkhIE5vIFdlYiBXb3JrZXIgc3VwcG9ydC5cIjtcclxuICB9XHJcbn1cclxuXHJcbi8vIGF1ZGlvIHBsYXllclxyXG5cclxuY29uc3QgYXVkaW9fcGxheWVyX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhdWRpby1wbGF5ZXItY29udGFpbmVyJyk7XHJcbmNvbnN0IGF1ZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYXVkaW8nKTtcclxuY29uc3QgcGxheV9pY29uX2NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5LWljb24nKTtcclxuY29uc3Qgc2Vla19zbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2Vlay1zbGlkZXInKTtcclxuY29uc3QgZHVyYXRpb25fY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2R1cmF0aW9uJyk7XHJcbmNvbnN0IGN1cnJlbnRfdGltZV9jb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VycmVudC10aW1lJyk7XHJcbmxldCByYWYgPSBudWxsO1xyXG5cclxubGV0IHBsYXlTdGF0ZSA9ICdwbGF5JztcclxuXHJcbnBsYXlfaWNvbl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpZiAocGxheVN0YXRlID09PSAncGxheScpIHtcclxuICAgICAgICBhdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh3aGlsZVBsYXlpbmcpO1xyXG4gICAgICAgIHBsYXlTdGF0ZSA9ICdwYXVzZSc7XHJcbiAgICAgICAgcGxheV9pY29uX2NvbnRhaW5lci5jbGFzc05hbWUgPSBcInBsYXlcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XHJcbiAgICAgICAgcGxheVN0YXRlID0gJ3BsYXknO1xyXG4gICAgICAgIHBsYXlfaWNvbl9jb250YWluZXIuY2xhc3NOYW1lID0gXCJwYXVzZWRcIjtcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBzaG93UmFuZ2VQcm9ncmVzcyA9IChyYW5nZUlucHV0KSA9PiB7XHJcbiAgICBpZihyYW5nZUlucHV0ID09PSBzZWVrX3NsaWRlcikgYXVkaW9fcGxheWVyX2NvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zZWVrLWJlZm9yZS13aWR0aCcsIHJhbmdlSW5wdXQudmFsdWUgLyByYW5nZUlucHV0Lm1heCAqIDEwMCArICclJyk7XHJcbiAgICBlbHNlIGF1ZGlvX3BsYXllcl9jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJy0tdm9sdW1lLWJlZm9yZS13aWR0aCcsIHJhbmdlSW5wdXQudmFsdWUgLyByYW5nZUlucHV0Lm1heCAqIDEwMCArICclJyk7XHJcbn1cclxuXHJcbnNlZWtfc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcclxuICAgIHNob3dSYW5nZVByb2dyZXNzKGUudGFyZ2V0KTtcclxufSk7XHJcblxyXG5jb25zdCBjYWxjdWxhdGVUaW1lID0gKHNlY3MpID0+IHtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY3MgLyA2MCk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihzZWNzICUgNjApO1xyXG4gICAgY29uc3QgcmV0dXJuZWRTZWNvbmRzID0gc2Vjb25kcyA8IDEwID8gYDAke3NlY29uZHN9YCA6IGAke3NlY29uZHN9YDtcclxuICAgIHJldHVybiBgJHttaW51dGVzfToke3JldHVybmVkU2Vjb25kc31gO1xyXG59XHJcblxyXG5jb25zdCBkaXNwbGF5RHVyYXRpb24gPSAoKSA9PiB7XHJcbiAgICBkdXJhdGlvbl9jb250YWluZXIudGV4dENvbnRlbnQgPSBjYWxjdWxhdGVUaW1lKGF1ZGlvLmR1cmF0aW9uKTtcclxufVxyXG5cclxuY29uc3Qgc2V0U2xpZGVyTWF4ID0gKCkgPT4ge1xyXG4gICAgc2Vla19zbGlkZXIubWF4ID0gTWF0aC5mbG9vcihhdWRpby5kdXJhdGlvbik7XHJcbn1cclxuXHJcbmNvbnN0IGRpc3BsYXlCdWZmZXJlZEFtb3VudCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGJ1ZmZlcmVkQW1vdW50ID0gTWF0aC5mbG9vcihhdWRpby5idWZmZXJlZC5lbmQoYXVkaW8uYnVmZmVyZWQubGVuZ3RoIC0gMSkpO1xyXG4gICAgYXVkaW9fcGxheWVyX2NvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1idWZmZXJlZC13aWR0aCcsIGAkeyhidWZmZXJlZEFtb3VudCAvIHNlZWtfc2xpZGVyLm1heCkgKiAxMDB9JWApO1xyXG59XHJcblxyXG5jb25zdCB3aGlsZVBsYXlpbmcgPSAoKSA9PiB7XHJcbiAgICBzZWVrX3NsaWRlci52YWx1ZSA9IE1hdGguZmxvb3IoYXVkaW8uY3VycmVudFRpbWUpO1xyXG4gICAgY3VycmVudF90aW1lX2NvbnRhaW5lci50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZVRpbWUoc2Vla19zbGlkZXIudmFsdWUpO1xyXG4gICAgYXVkaW9fcGxheWVyX2NvbnRhaW5lci5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1zZWVrLWJlZm9yZS13aWR0aCcsIGAke3NlZWtfc2xpZGVyLnZhbHVlIC8gc2Vla19zbGlkZXIubWF4ICogMTAwfSVgKTtcclxuICAgIHJhZiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh3aGlsZVBsYXlpbmcpO1xyXG59XHJcblxyXG5pZiAoYXVkaW8ucmVhZHlTdGF0ZSA+IDApIHtcclxuICAgIGRpc3BsYXlEdXJhdGlvbigpO1xyXG4gICAgc2V0U2xpZGVyTWF4KCk7XHJcbiAgICBkaXNwbGF5QnVmZmVyZWRBbW91bnQoKTtcclxufSBlbHNlIHtcclxuICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgKCkgPT4ge1xyXG4gICAgICAgIGRpc3BsYXlEdXJhdGlvbigpO1xyXG4gICAgICAgIHNldFNsaWRlck1heCgpO1xyXG4gICAgICAgIGRpc3BsYXlCdWZmZXJlZEFtb3VudCgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZGlzcGxheUJ1ZmZlcmVkQW1vdW50KTtcclxuXHJcbnNlZWtfc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgY3VycmVudF90aW1lX2NvbnRhaW5lci50ZXh0Q29udGVudCA9IGNhbGN1bGF0ZVRpbWUoc2Vla19zbGlkZXIudmFsdWUpO1xyXG4gICAgaWYoIWF1ZGlvLnBhdXNlZCkge1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJhZik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuc2Vla19zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgYXVkaW8uY3VycmVudFRpbWUgPSBzZWVrX3NsaWRlci52YWx1ZTtcclxuICAgIGlmKCFhdWRpby5wYXVzZWQpIHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2hpbGVQbGF5aW5nKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5mdW5jdGlvbiBwbGF5X2F1ZGlvKGF1ZGlvX3VybCkge1xyXG4gIHZhciBhdWRpb19wbGF5ZXJfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdWRpby1wbGF5ZXItY29udGFpbmVyXCIpO1xyXG4gIHZhciBhdWRpb19wbGF5ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF1ZGlvLXBsYXllclwiKTtcclxuICBhdWRpb19wbGF5ZXJfY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gIGF1ZGlvX3BsYXllci5wYXVzZSgpO1xyXG4gIGF1ZGlvX3BsYXllci5zZXRBdHRyaWJ1dGUoJ3NyYycsIGF1ZGlvX3VybCk7XHJcbiAgYXVkaW9fcGxheWVyLmxvYWQoKTtcclxuICAvL2F1ZGlvX3BsYXllci5wbGF5KCk7XHJcblxyXG4gIHBsYXlfaWNvbl9jb250YWluZXIuY2xhc3NOYW1lID0gXCJwYXVzZWRcIjtcclxuICBwbGF5U3RhdGUgPSAncGxheSc7XHJcbiAgYXVkaW9fcGxheWVyLnBsYXkoKTtcclxuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUod2hpbGVQbGF5aW5nKTtcclxufSJdfQ==
