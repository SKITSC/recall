var _0xef90=['getElementById','onreadystatechange','disabled','open','9253vPYxKk','717945vzOPCP','utils/list_recordings.php?page=','getTimezoneOffset','total_calls_number','56708NIQgIZ','tBodies','app-recordings-table','index\x20max:','utils/list_recordings.php','slice','utils/list_recordings.php?search_phone=','DOMContentLoaded','toDateInputValue','82EmkyTA','log','go-left','from-to-search-from','send','index-min','status','no\x20recordings...','ceil','<table\x20class=\x22app-recordings-table\x22\x20id=\x22app-recordings-table\x22><tr><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-number\x22></th><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-uuid\x22>UUID</th><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-time\x22>Time</th><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-duration\x22>Duration</th><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-from\x22>From</th><th\x20class=\x22table-recordings-cell\x20col-title\x20col-call-to\x22>To</th></tr><tr\x20id=\x22loader-row\x22><td\x20colspan=\x226\x22><div\x20class=\x22recordings-loader\x22><div\x20class=\x22lds-grid\x22><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></td></tr></table>','getMinutes','GET','70989kBxQCE','827319tghHGx','setMinutes','innerHTML','MAX\x20PAGE:','remove','go-right','readyState','2083158QlWiTn','value','1jYQGAf','980241iSkyry','id-recording-table','addEventListener','responseText','utils/utils_recordings.php?data_required=total_calls_number','15PHXGFt','loader-row','current_page:\x20','index-max'];var _0x31da15=_0xb59c;(function(_0x2e9c4f,_0x5d816b){var _0x1b81e3=_0xb59c;while(!![]){try{var _0x4d4938=-parseInt(_0x1b81e3(0x92))*-parseInt(_0x1b81e3(0xa2))+parseInt(_0x1b81e3(0xb8))*parseInt(_0x1b81e3(0xaa))+parseInt(_0x1b81e3(0xab))+-parseInt(_0x1b81e3(0x93))*parseInt(_0x1b81e3(0x9c))+parseInt(_0x1b81e3(0x9d))+-parseInt(_0x1b81e3(0xaf))+-parseInt(_0x1b81e3(0x9a));if(_0x4d4938===_0x5d816b)break;else _0x2e9c4f['push'](_0x2e9c4f['shift']());}catch(_0x31932d){_0x2e9c4f['push'](_0x2e9c4f['shift']());}}}(_0xef90,0x87656));const recordings_per_page=0x32;let g_recordings_offset=0x0,g_current_page=0x1;var current_min_index=0x0,current_max_index=recordings_per_page,index_min_element=document[_0x31da15(0xa6)](_0x31da15(0xbd)),index_max_element=document[_0x31da15(0xa6)](_0x31da15(0xa5));function get_total_recordings(){var _0x38b450=_0x31da15,_0x2b3fba=document[_0x38b450(0xa6)]('total_calls_number');return parseInt(_0x2b3fba[_0x38b450(0x95)]);}function calculate_pagination(){var _0xbeca62=_0x31da15,_0x28fa89=get_total_recordings();current_min_index=0x32*(g_current_page-0x1)+0x1,current_max_index=0x32*g_current_page,0x0==_0x28fa89?document['getElementById']('nav-item')[_0xbeca62(0x95)]=_0xbeca62(0xbf):_0x28fa89<current_max_index?(current_max_index=_0x28fa89,index_min_element['innerHTML']=current_min_index,index_max_element[_0xbeca62(0x95)]=_0x28fa89):(index_min_element['innerHTML']=current_min_index,index_max_element['innerHTML']=current_max_index),console[_0xbeca62(0xb9)](_0xbeca62(0xa4)+g_current_page),console[_0xbeca62(0xb9)]('index_min:\x20'+current_min_index),console[_0xbeca62(0xb9)](_0xbeca62(0xb2)+current_max_index);}function _0xb59c(_0x330afa,_0x38a1bc){_0x330afa=_0x330afa-0x90;var _0xef9062=_0xef90[_0x330afa];return _0xef9062;}document[_0x31da15(0x9f)](_0x31da15(0xb6),_0x1e0286=>{var _0x365c71=_0x31da15;document[_0x365c71(0xa6)]('date-search-id')[_0x365c71(0x9b)]=new Date()[_0x365c71(0xb7)](),fetch_data(_0x365c71(0xa1),_0x365c71(0xae),!0x0,function(_0x143966){var _0x7eda63=_0x365c71;document[_0x7eda63(0xa6)](_0x7eda63(0xae))['innerHTML']=_0x143966,calculate_pagination();}),fetch_data(_0x365c71(0xb3),_0x365c71(0xb1),!0x0,function(_0x381c18){var _0x1ebfa2=_0x365c71;document[_0x1ebfa2(0xa6)](_0x1ebfa2(0xa3))['remove'](),document[_0x1ebfa2(0xa6)](_0x1ebfa2(0xb1))[_0x1ebfa2(0xb0)][0x0][_0x1ebfa2(0x95)]+=_0x381c18;});}),Date['prototype'][_0x31da15(0xb7)]=function(){var _0x128f1a=_0x31da15,_0x1abd88=new Date(this);return _0x1abd88[_0x128f1a(0x94)](this[_0x128f1a(0x90)]()-this[_0x128f1a(0xad)]()),_0x1abd88['toJSON']()[_0x128f1a(0xb4)](0x0,0xa);};async function fetch_data(_0x1eadcc,_0x11b47c,_0x2179d8,_0x5363fb){var _0x17b97b=_0x31da15,_0x3eb0ef=new XMLHttpRequest();_0x3eb0ef[_0x17b97b(0xa7)]=function(){var _0x54a90e=_0x17b97b;0x4==this[_0x54a90e(0x99)]&&0xc8==this[_0x54a90e(0xbe)]&&_0x5363fb(this[_0x54a90e(0xa0)]);},_0x3eb0ef['open'](_0x17b97b(0x91),_0x1eadcc,_0x2179d8),_0x3eb0ef[_0x17b97b(0xbc)]();}function reset_table(){var _0x1c6345=_0x31da15;document[_0x1c6345(0xa6)](_0x1c6345(0x9e))[_0x1c6345(0x95)]=_0x1c6345(0xc1),document[_0x1c6345(0xa6)](_0x1c6345(0xba))[_0x1c6345(0xa8)]=!0x0,document[_0x1c6345(0xa6)](_0x1c6345(0x98))[_0x1c6345(0xa8)]=!0x0;}function restore_table(){var _0x3eae85=_0x31da15,_0x1f7ca9=new XMLHttpRequest();_0x1f7ca9['onreadystatechange']=function(){var _0x4f8a18=_0xb59c;0x4==this[_0x4f8a18(0x99)]&&0xc8==this[_0x4f8a18(0xbe)]&&(document[_0x4f8a18(0xa6)](_0x4f8a18(0xa3))[_0x4f8a18(0x97)](),document[_0x4f8a18(0xa6)]('app-recordings-table')[_0x4f8a18(0xb0)][0x0][_0x4f8a18(0x95)]+=this['responseText'],document[_0x4f8a18(0xa6)](_0x4f8a18(0xba))[_0x4f8a18(0xa8)]=!0x1,document[_0x4f8a18(0xa6)](_0x4f8a18(0x98))[_0x4f8a18(0xa8)]=!0x1);},_0x1f7ca9[_0x3eae85(0xa9)](_0x3eae85(0x91),_0x3eae85(0xac)+g_current_page),_0x1f7ca9['send']();}function next_page(){var _0x2913fc=_0x31da15,_0x128dcc=Math[_0x2913fc(0xc0)](get_total_recordings()/recordings_per_page);console['log'](_0x2913fc(0x96)+_0x128dcc),g_current_page<_0x128dcc&&(reset_table(),g_current_page++,calculate_pagination(),restore_table());}function previous_page(){var _0x561738=_0x31da15,_0x62a2b9=Math[_0x561738(0xc0)](get_total_recordings()/recordings_per_page);console['log'](_0x561738(0x96)+_0x62a2b9),0x1<g_current_page&&(reset_table(),g_current_page--,calculate_pagination(),restore_table());}function search_phone(){var _0x33894a=_0x31da15;reset_table();var _0x1230fa=document[_0x33894a(0xa6)](_0x33894a(0xbb))[_0x33894a(0x9b)],_0x5f9903=new XMLHttpRequest();_0x5f9903['onreadystatechange']=function(){var _0xc55f52=_0x33894a;0x4==this[_0xc55f52(0x99)]&&0xc8==this[_0xc55f52(0xbe)]&&(document['getElementById']('loader-row')['remove'](),document[_0xc55f52(0xa6)](_0xc55f52(0xb1))['tBodies'][0x0][_0xc55f52(0x95)]+=this[_0xc55f52(0xa0)],document[_0xc55f52(0xa6)](_0xc55f52(0xba))['disabled']=!0x1,document[_0xc55f52(0xa6)]('go-right')[_0xc55f52(0xa8)]=!0x1);},_0x5f9903[_0x33894a(0xa9)]('GET',_0x33894a(0xb5)+_0x1230fa+'&page='+g_current_page),_0x5f9903['send']();}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29yZGluZ3MuanMiXSwibmFtZXMiOlsicmVjb3JkaW5nc19wZXJfcGFnZSIsImdfcmVjb3JkaW5nc19vZmZzZXQiLCJnX2N1cnJlbnRfcGFnZSIsImN1cnJlbnRfbWluX2luZGV4IiwiY3VycmVudF9tYXhfaW5kZXgiLCJpbmRleF9taW5fZWxlbWVudCIsImRvY3VtZW50IiwiaW5kZXhfbWF4X2VsZW1lbnQiLCJnZXRfdG90YWxfcmVjb3JkaW5ncyIsInRvdGFsX2NhbGxzX251bWJlcl9lbGVtZW50IiwicGFyc2VJbnQiLCJjYWxjdWxhdGVfcGFnaW5hdGlvbiIsInRvdGFsX2NhbGxzX251bWJlciIsImNvbnNvbGUiLCJfMHgxZTAyODYiLCJEYXRlIiwidmFsdWUiLCJmZXRjaF9kYXRhIiwicmVzcG9uc2UiLCJsb2NhbCIsInRoaXMiLCJhc3luYyIsImVuZHBvaW50IiwiZWxlbWVudGlkIiwiYm9vbF9hc3luYyIsImNhbGxiYWNrIiwieGh0dHAiLCJYTUxIdHRwUmVxdWVzdCIsInJlc2V0X3RhYmxlIiwiZGlzYWJsZWQiLCJyZXN0b3JlX3RhYmxlIiwibmV4dF9wYWdlIiwibWF4X3BhZ2UiLCJNYXRoIiwicHJldmlvdXNfcGFnZSIsInNlYXJjaF9waG9uZSIsInNlYXJjaCJdLCJtYXBwaW5ncyI6InVuRUFPQSxNQUFNQSxtQkFBQUEsQyxJQUFOLENBRUEsSUFBSUMsbUJBQUFBLEMsR0FBSixDQUNJQyxjQUFBQSxDLEdBREosQ0FHQSxJQUFJQyxpQkFBQUEsQyxHQUFKLENBQ0lDLGlCQUFBQSxDQUFvQkosbUJBRHhCLENBR0lLLGlCQUFBQSxDQUFvQkMsUUFBQUEsQyxlQUFBQSxFLGVBQUFBLENBSHhCLENBSUlDLGlCQUFBQSxDQUFvQkQsUUFBQUEsQyxlQUFBQSxFLGVBQUFBLENBSnhCLENBb0NBLFNBQVNFLG9CQUFULEUseUJBRVFDLFNBQUFBLENBQTZCSCxRQUFBQSxDLGVBQUFBLEUsb0JBQUFBLEMsUUFDMUJJLFFBQUFBLENBQVNELFNBQUFBLEMs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bkJOLEssZUFBQUEsQ0FBbUIsRSxJQUFvQixFQUFmQSxLLGVBQUFBLENBQUwsRUFDRmQsQ0FBQUEsUUFBQUEsQyxnQkFBQUEsRSxZQUFBQSxFLFFBQUFBLElBR01BLFFBQUFBLEMsZUFBQUEsRSxlQUFBQSxFLFNBQUFBLEUsR0FBQUEsRSxlQUFBQSxHQUNPYyxLLGVBQUFBLENBSmJkLENBTWpCQSxRQUFBQSxDLGVBQUFBLEUsZUFBQUEsRSxVQUFBQSxFQUFtQ3VCLEMsR0FObEJ2QixDQU9qQkEsUUFBQUEsQyxlQUFBQSxFLFVBQUFBLEUsZUFBQUEsRUFBb0N1QixDLEdBUG5CdkIsQyxHQVV6Qm9CLFNBQUFBLEMsZUFBQUEsRSxLQUFBQSxDLGVBQWtCLENBQTRDVSxTQUE1QyxDLFFBQUEsQ0FBZ0VsQyxjQUFsRndCLEMsQ0FDQUEsU0FBQUEsQyxNQUFBQSxHIiwiZmlsZSI6InJlY29yZGluZ3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4qICAgRGF0ZTogMDktMDYtMjAyMVxyXG4qICAgQXV0aG9yOiBJeWFkIEFsLUthc3NhYiBAIFNLSVRTQ1xyXG4qICAgRGVzY3JpcHRpb246IGpzIGZvciByZWNvcmRpbmdzIHBhZ2VcclxuKi9cclxuXHJcbi8vIGluaXRpYWwgb2Zmc2V0IGlzIDAsIHN0YXJ0cyBhdCByZWNvcmRpbmcgMVxyXG5jb25zdCByZWNvcmRpbmdzX3Blcl9wYWdlID0gNTA7XHJcblxyXG5sZXQgZ19yZWNvcmRpbmdzX29mZnNldCA9IDA7XHJcbmxldCBnX2N1cnJlbnRfcGFnZSA9IDE7XHJcblxyXG52YXIgY3VycmVudF9taW5faW5kZXggPSAwO1xyXG52YXIgY3VycmVudF9tYXhfaW5kZXggPSByZWNvcmRpbmdzX3Blcl9wYWdlO1xyXG5cclxudmFyIGluZGV4X21pbl9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmRleC1taW5cIik7XHJcbnZhciBpbmRleF9tYXhfZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5kZXgtbWF4XCIpO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKGV2ZW50KSA9PiB7XHJcblxyXG4gICAgdmFyIGRhdGVfZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGF0ZS1zZWFyY2gtaWRcIik7XHJcbiAgICBkYXRlX2VsZW1lbnQudmFsdWUgPSBuZXcgRGF0ZSgpLnRvRGF0ZUlucHV0VmFsdWUoKTtcclxuXHJcbiAgICBmZXRjaF9kYXRhKFwidXRpbHMvdXRpbHNfcmVjb3JkaW5ncy5waHA/ZGF0YV9yZXF1aXJlZD10b3RhbF9jYWxsc19udW1iZXJcIiwgXCJ0b3RhbF9jYWxsc19udW1iZXJcIiwgdHJ1ZSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdmFyIHRvdGFsX2NhbGxzX251bWJlcl9lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbF9jYWxsc19udW1iZXJcIik7XHJcbiAgICAgICAgdG90YWxfY2FsbHNfbnVtYmVyX2VsZW1lbnQuaW5uZXJIVE1MID0gcmVzcG9uc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY2FsY3VsYXRlX3BhZ2luYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZldGNoX2RhdGEoXCJ1dGlscy9saXN0X3JlY29yZGluZ3MucGhwXCIsIFwiYXBwLXJlY29yZGluZ3MtdGFibGVcIiwgdHJ1ZSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgdmFyIGxvYWRlcl9yb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvYWRlci1yb3dcIik7XHJcbiAgICAgICAgbG9hZGVyX3Jvdy5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlY29yZGluZ3NfdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcC1yZWNvcmRpbmdzLXRhYmxlXCIpLnRCb2RpZXNbMF07XHJcbiAgICAgICAgcmVjb3JkaW5nc190YWJsZS5pbm5lckhUTUwgKz0gcmVzcG9uc2U7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5EYXRlLnByb3RvdHlwZS50b0RhdGVJbnB1dFZhbHVlID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgXHJcbiAgICB2YXIgbG9jYWwgPSBuZXcgRGF0ZSh0aGlzKTtcclxuICAgIGxvY2FsLnNldE1pbnV0ZXModGhpcy5nZXRNaW51dGVzKCkgLSB0aGlzLmdldFRpbWV6b25lT2Zmc2V0KCkpO1xyXG4gICAgcmV0dXJuIGxvY2FsLnRvSlNPTigpLnNsaWNlKDAsMTApO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGdldF90b3RhbF9yZWNvcmRpbmdzKCkge1xyXG5cclxuICAgIHZhciB0b3RhbF9jYWxsc19udW1iZXJfZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxfY2FsbHNfbnVtYmVyXCIpO1xyXG4gICAgcmV0dXJuIHBhcnNlSW50KHRvdGFsX2NhbGxzX251bWJlcl9lbGVtZW50LmlubmVySFRNTCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZV9wYWdpbmF0aW9uKCkge1xyXG5cclxuICAgIHZhciB0b3RhbF9jYWxsc19udW1iZXIgPSBnZXRfdG90YWxfcmVjb3JkaW5ncygpO1xyXG5cclxuICAgIGN1cnJlbnRfbWluX2luZGV4ID0gKGdfY3VycmVudF9wYWdlIC0gMSkgKiA1MCArIDE7XHJcbiAgICBjdXJyZW50X21heF9pbmRleCA9IChnX2N1cnJlbnRfcGFnZSAqIDUwKTtcclxuICAgIFxyXG4gICAgaWYgKHRvdGFsX2NhbGxzX251bWJlciA9PSAwKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYXYtaXRlbVwiKS5pbm5lckhUTUwgPSBcIm5vIHJlY29yZGluZ3MuLi5cIjtcclxuICAgIH0gZWxzZSBpZiAodG90YWxfY2FsbHNfbnVtYmVyIDwgY3VycmVudF9tYXhfaW5kZXgpIHtcclxuICAgICAgICBjdXJyZW50X21heF9pbmRleCA9IHRvdGFsX2NhbGxzX251bWJlcjtcclxuICAgICAgICBpbmRleF9taW5fZWxlbWVudC5pbm5lckhUTUwgPSBjdXJyZW50X21pbl9pbmRleDtcclxuICAgICAgICBpbmRleF9tYXhfZWxlbWVudC5pbm5lckhUTUwgPSB0b3RhbF9jYWxsc19udW1iZXI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGluZGV4X21pbl9lbGVtZW50LmlubmVySFRNTCA9IGN1cnJlbnRfbWluX2luZGV4O1xyXG4gICAgICAgIGluZGV4X21heF9lbGVtZW50LmlubmVySFRNTCA9IGN1cnJlbnRfbWF4X2luZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKFwiY3VycmVudF9wYWdlOiBcIiArIGdfY3VycmVudF9wYWdlKTtcclxuICAgIGNvbnNvbGUubG9nKFwiaW5kZXhfbWluOiBcIiArIGN1cnJlbnRfbWluX2luZGV4KTtcclxuICAgIGNvbnNvbGUubG9nKFwiaW5kZXggbWF4OlwiICsgY3VycmVudF9tYXhfaW5kZXgpO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaF9kYXRhKGVuZHBvaW50LCBlbGVtZW50aWQsIGJvb2xfYXN5bmMsIGNhbGxiYWNrKSB7XHJcblxyXG4gICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgXHJcbiAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQgJiYgdGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgeGh0dHAub3BlbihcIkdFVFwiLCBlbmRwb2ludCwgYm9vbF9hc3luYyk7IC8vYXN5bmMgc2luY2Ugd2UgbmVlZCB0byBvYnRhaW4gdGhlIHZhbHVlXHJcbiAgICB4aHR0cC5zZW5kKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0X3RhYmxlKCkge1xyXG5cclxuICAgIHZhciBlbXB0eV90YWJsZSA9ICc8dGFibGUgY2xhc3M9XCJhcHAtcmVjb3JkaW5ncy10YWJsZVwiIGlkPVwiYXBwLXJlY29yZGluZ3MtdGFibGVcIj48dHI+PHRoIGNsYXNzPVwidGFibGUtcmVjb3JkaW5ncy1jZWxsIGNvbC10aXRsZSBjb2wtY2FsbC1udW1iZXJcIj48L3RoPjx0aCBjbGFzcz1cInRhYmxlLXJlY29yZGluZ3MtY2VsbCBjb2wtdGl0bGUgY29sLWNhbGwtdXVpZFwiPlVVSUQ8L3RoPjx0aCBjbGFzcz1cInRhYmxlLXJlY29yZGluZ3MtY2VsbCBjb2wtdGl0bGUgY29sLWNhbGwtdGltZVwiPlRpbWU8L3RoPjx0aCBjbGFzcz1cInRhYmxlLXJlY29yZGluZ3MtY2VsbCBjb2wtdGl0bGUgY29sLWNhbGwtZHVyYXRpb25cIj5EdXJhdGlvbjwvdGg+PHRoIGNsYXNzPVwidGFibGUtcmVjb3JkaW5ncy1jZWxsIGNvbC10aXRsZSBjb2wtY2FsbC1mcm9tXCI+RnJvbTwvdGg+PHRoIGNsYXNzPVwidGFibGUtcmVjb3JkaW5ncy1jZWxsIGNvbC10aXRsZSBjb2wtY2FsbC10b1wiPlRvPC90aD48L3RyPjx0ciBpZD1cImxvYWRlci1yb3dcIj48dGQgY29sc3Bhbj1cIjZcIj48ZGl2IGNsYXNzPVwicmVjb3JkaW5ncy1sb2FkZXJcIj48ZGl2IGNsYXNzPVwibGRzLWdyaWRcIj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48ZGl2PjwvZGl2PjxkaXY+PC9kaXY+PGRpdj48L2Rpdj48L2Rpdj48L2Rpdj48L3RkPjwvdHI+PC90YWJsZT4nO1xyXG5cclxuICAgIHZhciByZWNvcmRpbmdzX3RhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpZC1yZWNvcmRpbmctdGFibGVcIik7XHJcbiAgICByZWNvcmRpbmdzX3RhYmxlLmlubmVySFRNTCA9IGVtcHR5X3RhYmxlO1xyXG5cclxuICAgIC8vIGRpc2FibGUgbmF2IGJ1dHRvbnNcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ28tbGVmdFwiKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdvLXJpZ2h0XCIpLmRpc2FibGVkID0gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVzdG9yZV90YWJsZSgpIHtcclxuICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gIFxyXG4gICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICB2YXIgbG9hZGVyX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGVyLXJvd1wiKTtcclxuICAgICAgICAgICAgbG9hZGVyX3Jvdy5yZW1vdmUoKTtcclxuICAgIFxyXG4gICAgICAgICAgICB2YXIgcmVjb3JkaW5nc190YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwLXJlY29yZGluZ3MtdGFibGVcIikudEJvZGllc1swXTtcclxuICAgICAgICAgICAgcmVjb3JkaW5nc190YWJsZS5pbm5lckhUTUwgKz0gdGhpcy5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdvLWxlZnRcIikuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnby1yaWdodFwiKS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB4aHR0cC5vcGVuKFwiR0VUXCIsIFwidXRpbHMvbGlzdF9yZWNvcmRpbmdzLnBocD9wYWdlPVwiICsgZ19jdXJyZW50X3BhZ2UpO1xyXG4gICAgeGh0dHAuc2VuZCgpOyAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5leHRfcGFnZSgpIHtcclxuXHJcbiAgICB2YXIgbWF4X3BhZ2UgPSBNYXRoLmNlaWwoZ2V0X3RvdGFsX3JlY29yZGluZ3MoKSAvIHJlY29yZGluZ3NfcGVyX3BhZ2UpO1xyXG4gICAgY29uc29sZS5sb2coXCJNQVggUEFHRTpcIiArIG1heF9wYWdlKTtcclxuXHJcbiAgICBpZiAoZ19jdXJyZW50X3BhZ2UgPCBtYXhfcGFnZSkge1xyXG5cclxuICAgICAgICByZXNldF90YWJsZSgpO1xyXG5cclxuICAgICAgICBnX2N1cnJlbnRfcGFnZSsrO1xyXG4gICAgICAgIGNhbGN1bGF0ZV9wYWdpbmF0aW9uKCk7XHJcblxyXG4gICAgICAgIHJlc3RvcmVfdGFibGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcHJldmlvdXNfcGFnZSgpIHtcclxuICAgIHZhciBtYXhfcGFnZSA9IE1hdGguY2VpbChnZXRfdG90YWxfcmVjb3JkaW5ncygpIC8gcmVjb3JkaW5nc19wZXJfcGFnZSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1BWCBQQUdFOlwiICsgbWF4X3BhZ2UpO1xyXG5cclxuICAgIGlmIChnX2N1cnJlbnRfcGFnZSA+IDEpIHtcclxuXHJcbiAgICAgICAgcmVzZXRfdGFibGUoKTtcclxuXHJcbiAgICAgICAgZ19jdXJyZW50X3BhZ2UtLTtcclxuICAgICAgICBjYWxjdWxhdGVfcGFnaW5hdGlvbigpO1xyXG5cclxuICAgICAgICByZXN0b3JlX3RhYmxlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaF9waG9uZSgpIHtcclxuXHJcbiAgICByZXNldF90YWJsZSgpO1xyXG5cclxuICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyb20tdG8tc2VhcmNoLWZyb21cIikudmFsdWU7XHJcblxyXG4gICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgXHJcbiAgICB4aHR0cC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQgJiYgdGhpcy5zdGF0dXMgPT0gMjAwKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2FkZXJfcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkZXItcm93XCIpO1xyXG4gICAgICAgICAgICBsb2FkZXJfcm93LnJlbW92ZSgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciByZWNvcmRpbmdzX3RhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHAtcmVjb3JkaW5ncy10YWJsZVwiKS50Qm9kaWVzWzBdO1xyXG4gICAgICAgICAgICByZWNvcmRpbmdzX3RhYmxlLmlubmVySFRNTCArPSB0aGlzLnJlc3BvbnNlVGV4dDtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ28tbGVmdFwiKS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdvLXJpZ2h0XCIpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHhodHRwLm9wZW4oXCJHRVRcIiwgXCJ1dGlscy9saXN0X3JlY29yZGluZ3MucGhwP3NlYXJjaF9waG9uZT1cIiArIHNlYXJjaCArIFwiJnBhZ2U9XCIgKyBnX2N1cnJlbnRfcGFnZSk7XHJcbiAgICB4aHR0cC5zZW5kKCk7ICBcclxufSJdfQ==
